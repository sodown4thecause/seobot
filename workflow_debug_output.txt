The CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.

[1m[7m[36m RUN [39m[27m[22m [36mv2.1.9 [39m[90mC:/Users/User/Documents/seo ragbot/seo-platform[39m

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould execute steps in correct dependency order
[22m[39m[Workflow] Starting workflow: Test Workflow
[Workflow] Executing step: Step 1
[DEBUG] Recorded result for step1: running

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Steps Execute in Dependency Order > should execute steps in correct dependency order
[Workflow] Failed to save checkpoint before step step1: Error: Failed to save checkpoint: TypeError: fetch failed
    at WorkflowPersistence.saveCheckpoint (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:61:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.executeStep (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:132:7)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould execute steps in correct dependency order
[22m[39m[Workflow] Executing 1 tools sequentially
[DEBUG] Mock executeTool called for test_tool
[DEBUG] Recorded result for step1: completed

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Steps Execute in Dependency Order > should execute steps in correct dependency order
[Workflow] Failed to save checkpoint after step step1: Error: Failed to save checkpoint: TypeError: fetch failed
    at WorkflowPersistence.saveCheckpoint (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:61:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.executeStep (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:176:9)
[Workflow] Failed to save final execution state: Error: User not authenticated
    at WorkflowPersistence.saveExecution (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:17:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.execute (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:77:9)
    at C:\Users\User\Documents\seo ragbot\seo-platform\tests\unit\workflow-state.test.ts:108:7
    at file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1262:5)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould execute steps in correct dependency order
[22m[39m[Workflow] Step Step 1 completed in 361ms
[DEBUG] Checking dependency step1 for step step2. Status: running
[Workflow] Skipping step step2 - dependencies not met
[DEBUG] Recorded result for step2: skipped
[DEBUG] Checking dependency step2 for step step3. Status: skipped
[Workflow] Skipping step step3 - dependencies not met
[DEBUG] Recorded result for step3: skipped
[Workflow] Completed workflow: Test Workflow in 374ms

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould skip steps when dependencies are not met
[22m[39m[Workflow] Starting workflow: Test Workflow
[Workflow] Executing step: Step 1
[DEBUG] Recorded result for step1: running

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Steps Execute in Dependency Order > should skip steps when dependencies are not met
[Workflow] Failed to save checkpoint before step step1: Error: Failed to save checkpoint: TypeError: fetch failed
    at WorkflowPersistence.saveCheckpoint (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:61:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.executeStep (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:132:7)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould skip steps when dependencies are not met
[22m[39m[Workflow] Executing 1 tools sequentially
[DEBUG] Mock executeTool called for test_tool
[DEBUG] Recorded result for step1: completed

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould skip steps when dependencies are not met
[22m[39m[Workflow] Step Step 1 completed in 22ms
[DEBUG] Checking dependency nonexistent_step for step step2. Status: undefined
[Workflow] Skipping step step2 - dependencies not met
[DEBUG] Recorded result for step2: skipped
[Workflow] Completed workflow: Test Workflow in 33ms

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Steps Execute in Dependency Order > should skip steps when dependencies are not met
[Workflow] Failed to save checkpoint after step step1: Error: Failed to save checkpoint: TypeError: fetch failed
    at WorkflowPersistence.saveCheckpoint (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:61:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.executeStep (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:176:9)
[Workflow] Failed to save final execution state: Error: User not authenticated
    at WorkflowPersistence.saveExecution (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:17:22)
[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould execute parallel steps concurrently
[22m[39m[Workflow] Starting workflow: Test Workflow
[Workflow] Executing step: Parallel 1
[DEBUG] Recorded result for parallel1: running
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.execute (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:77:9)
    at C:\Users\User\Documents\seo ragbot\seo-platform\tests\unit\workflow-state.test.ts:137:22
    at file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)

    at runFiles (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1262:5)

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Steps Execute in Dependency Order > should execute parallel steps concurrently
[Workflow] Failed to save checkpoint before step parallel1: Error: Failed to save checkpoint: TypeError: fetch failed
    at WorkflowPersistence.saveCheckpoint (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:61:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.executeStep (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:132:7)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould execute parallel steps concurrently
[22m[39m[Workflow] Executing 1 tools in parallel
[DEBUG] Mock executeTool called for test_tool
[Workflow] Parallel execution completed in 1ms
[Workflow] Success: 1/1 tools
[DEBUG] Recorded result for parallel1: completed

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould execute parallel steps concurrently
[22m[39m[Workflow] Step Parallel 1 completed in 9ms
[Workflow] Executing step: Parallel 2
[DEBUG] Recorded result for parallel2: running

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Steps Execute in Dependency Order > should execute parallel steps concurrently
[Workflow] Failed to save checkpoint after step parallel1: Error: Failed to save checkpoint: TypeError: fetch failed
    at WorkflowPersistence.saveCheckpoint (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:61:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.executeStep (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:176:9)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould execute parallel steps concurrently
[22m[39m[Workflow] Executing 1 tools in parallel
[DEBUG] Mock executeTool called for test_tool
[Workflow] Parallel execution completed in 0ms
[Workflow] Success: 1/1 tools
[DEBUG] Recorded result for parallel2: completed

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Steps Execute in Dependency Order > should execute parallel steps concurrently
[Workflow] Failed to save checkpoint before step parallel2: Error: Failed to save checkpoint: TypeError: fetch failed
    at WorkflowPersistence.saveCheckpoint (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:61:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.executeStep (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:132:7)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould execute parallel steps concurrently
[22m[39m[Workflow] Step Parallel 2 completed in 16ms
[Workflow] Completed workflow: Test Workflow in 40ms
[Workflow] Starting workflow: Test Workflow
[Workflow] Executing step: Parallel 1
[DEBUG] Recorded result for parallel1: running

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Steps Execute in Dependency Order > should execute parallel steps concurrently
[Workflow] Failed to save checkpoint after step parallel2: Error: Failed to save checkpoint: TypeError: fetch failed
    at WorkflowPersistence.saveCheckpoint (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:61:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.executeStep (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:176:9)
[Workflow] Failed to save final execution state: Error: User not authenticated
    at WorkflowPersistence.saveExecution (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:17:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.execute (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:77:9)
    at C:\Users\User\Documents\seo ragbot\seo-platform\tests\unit\workflow-state.test.ts:177:7
    at file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1262:5)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould execute parallel steps concurrently
[22m[39m[Workflow] Executing 1 tools in parallel
[DEBUG] Mock executeTool called for test_tool
[Workflow] Parallel execution completed in 0ms
[Workflow] Success: 1/1 tools
[DEBUG] Recorded result for parallel1: completed

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Steps Execute in Dependency Order > should execute parallel steps concurrently
[Workflow] Failed to save checkpoint before step parallel1: Error: Failed to save checkpoint: TypeError: fetch failed
    at WorkflowPersistence.saveCheckpoint (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:61:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.executeStep (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:132:7)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould execute parallel steps concurrently
[22m[39m[Workflow] Step Parallel 1 completed in 8ms
[Workflow] Executing step: Parallel 2
[DEBUG] Recorded result for parallel2: running

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Steps Execute in Dependency Order > should execute parallel steps concurrently
[Workflow] Failed to save checkpoint after step parallel1: Error: Failed to save checkpoint: TypeError: fetch failed
    at WorkflowPersistence.saveCheckpoint (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:61:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.executeStep (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:176:9)

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Steps Execute in Dependency Order > should execute parallel steps concurrently
[Workflow] Failed to save checkpoint before step parallel2: Error: Failed to save checkpoint: TypeError: fetch failed
    at WorkflowPersistence.saveCheckpoint (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:61:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.executeStep (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:132:7)
[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould execute parallel steps concurrently
[22m[39m[Workflow] Executing 1 tools in parallel
[DEBUG] Mock executeTool called for test_tool
[Workflow] Parallel execution completed in 0ms
[Workflow] Success: 1/1 tools
[DEBUG] Recorded result for parallel2: completed


[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Steps Execute in Dependency Order[2m > [22m[2mshould execute parallel steps concurrently
[22m[39m[Workflow] Step Parallel 2 completed in 18ms
[Workflow] Completed workflow: Test Workflow in 94ms

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Steps Execute in Dependency Order > should execute parallel steps concurrently
[Workflow] Failed to save checkpoint after step parallel2: Error: Failed to save checkpoint: TypeError: fetch failed
    at WorkflowPersistence.saveCheckpoint (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:61:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.executeStep (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:176:9)
[Workflow] Failed to save final execution state: Error: User not authenticated
    at WorkflowPersistence.saveExecution (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:17:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.execute (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:77:9)
    at C:\Users\User\Documents\seo ragbot\seo-platform\tests\unit\workflow-state.test.ts:183:22
    at file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1262:5)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Failed Steps Prevent Dependent Steps[2m > [22m[2mshould stop workflow when a step fails
[22m[39m[Workflow] Starting workflow: Test Workflow
[Workflow] Executing step: Step 1
[DEBUG] Recorded result for step1: running

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Failed Steps Prevent Dependent Steps > should stop workflow when a step fails
[Workflow] Failed to save checkpoint before step step1: Error: Failed to save checkpoint: TypeError: fetch failed
    at WorkflowPersistence.saveCheckpoint (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:61:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.executeStep (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:132:7)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Failed Steps Prevent Dependent Steps[2m > [22m[2mshould stop workflow when a step fails
[22m[39m[Workflow] Executing 1 tools sequentially
[DEBUG] Mock executeTool called for test_tool
[DEBUG] Recorded result for step1: completed

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Failed Steps Prevent Dependent Steps[2m > [22m[2mshould stop workflow when a step fails
[22m[39m[Workflow] Step Step 1 completed in 31ms
[DEBUG] Checking dependency step1 for step step2. Status: running
[Workflow] Skipping step step2 - dependencies not met
[DEBUG] Recorded result for step2: skipped
[DEBUG] Checking dependency step2 for step step3. Status: skipped
[Workflow] Skipping step step3 - dependencies not met
[DEBUG] Recorded result for step3: skipped
[Workflow] Completed workflow: Test Workflow in 61ms

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Failed Steps Prevent Dependent Steps > should stop workflow when a step fails
[Workflow] Failed to save checkpoint after step step1: Error: Failed to save checkpoint: TypeError: fetch failed
    at WorkflowPersistence.saveCheckpoint (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:61:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.executeStep (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:176:9)
[Workflow] Failed to save final execution state: Error: User not authenticated
    at WorkflowPersistence.saveExecution (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:17:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.execute (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:77:9)
    at C:\Users\User\Documents\seo ragbot\seo-platform\tests\unit\workflow-state.test.ts:208:22
    at file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1262:5)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Failed Steps Prevent Dependent Steps[2m > [22m[2mshould mark workflow as failed when critical step fails
[22m[39m[Workflow] Starting workflow: Test Workflow
[DEBUG] Recorded result for step1: running
[DEBUG] Recorded result for step1: failed
[Workflow] Completed workflow: Test Workflow in 3ms

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Failed Steps Prevent Dependent Steps > should mark workflow as failed when critical step fails
[Workflow] Failed to save final execution state: Error: User not authenticated
    at WorkflowPersistence.saveExecution (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:17:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.execute (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:77:9)
    at C:\Users\User\Documents\seo ragbot\seo-platform\tests\unit\workflow-state.test.ts:251:22
    at file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1262:5)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Step Results Persist Correctly[2m > [22m[2mshould persist step results in execution object
[22m[39m[Workflow] Starting workflow: Test Workflow
[DEBUG] Recorded result for step1: running
[DEBUG] Recorded result for step1: completed
[DEBUG] Checking dependency step1 for step step2. Status: running
[Workflow] Skipping step step2 - dependencies not met
[DEBUG] Recorded result for step2: skipped
[DEBUG] Checking dependency step2 for step step3. Status: skipped
[Workflow] Skipping step step3 - dependencies not met
[DEBUG] Recorded result for step3: skipped
[Workflow] Completed workflow: Test Workflow in 1ms

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Step Results Persist Correctly > should persist step results in execution object
[Workflow] Failed to save final execution state: Error: User not authenticated
    at WorkflowPersistence.saveExecution (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:17:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.execute (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:77:9)
    at C:\Users\User\Documents\seo ragbot\seo-platform\tests\unit\workflow-state.test.ts:283:22
    at file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1262:5)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Step Results Persist Correctly[2m > [22m[2mshould include timing information in step results
[22m[39m[Workflow] Starting workflow: Test Workflow
[DEBUG] Recorded result for step1: running
[DEBUG] Recorded result for step1: completed
[DEBUG] Checking dependency step1 for step step2. Status: running
[Workflow] Skipping step step2 - dependencies not met
[DEBUG] Recorded result for step2: skipped
[DEBUG] Checking dependency step2 for step step3. Status: skipped
[Workflow] Skipping step step3 - dependencies not met
[DEBUG] Recorded result for step3: skipped
[Workflow] Completed workflow: Test Workflow in 13ms

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Step Results Persist Correctly > should include timing information in step results
[Workflow] Failed to save final execution state: Error: User not authenticated
    at WorkflowPersistence.saveExecution (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:17:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.execute (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:77:9)
    at C:\Users\User\Documents\seo ragbot\seo-platform\tests\unit\workflow-state.test.ts:311:22
    at file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1262:5)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Step Results Persist Correctly[2m > [22m[2mshould preserve step data across workflow execution
[22m[39m[Workflow] Starting workflow: Test Workflow
[DEBUG] Recorded result for step1: completed
[DEBUG] Checking dependency step1 for step step2. Status: completed
[DEBUG] Recorded result for step2: completed
[DEBUG] Checking dependency step2 for step step3. Status: completed
[DEBUG] Recorded result for step3: completed
[Workflow] Completed workflow: Test Workflow in 4ms

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Step Results Persist Correctly > should preserve step data across workflow execution
[Workflow] Failed to save final execution state: Error: User not authenticated
    at WorkflowPersistence.saveExecution (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:17:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.execute (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:77:9)
    at C:\Users\User\Documents\seo ragbot\seo-platform\tests\unit\workflow-state.test.ts:339:22
    at file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1262:5)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mProperty: Step Results Persist Correctly[2m > [22m[2mshould include tool results in step results
[22m[39m[Workflow] Starting workflow: Test Workflow
[DEBUG] Recorded result for step1: running
[DEBUG] Recorded result for step1: completed
[DEBUG] Checking dependency step1 for step step2. Status: running
[Workflow] Skipping step step2 - dependencies not met
[DEBUG] Recorded result for step2: skipped
[DEBUG] Checking dependency step2 for step step3. Status: skipped
[Workflow] Skipping step step3 - dependencies not met
[DEBUG] Recorded result for step3: skipped
[Workflow] Completed workflow: Test Workflow in 2ms

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Step Results Persist Correctly > should include tool results in step results
[Workflow] Failed to save final execution state: Error: User not authenticated
    at WorkflowPersistence.saveExecution (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:17:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.execute (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:77:9)
    at C:\Users\User\Documents\seo ragbot\seo-platform\tests\unit\workflow-state.test.ts:368:22
    at file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1262:5)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mEdge Cases[2m > [22m[2mshould handle workflow with no steps
[22m[39m[Workflow] Starting workflow: Test Workflow
[Workflow] Completed workflow: Test Workflow in 1ms

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Edge Cases > should handle workflow with no steps
[Workflow] Failed to save final execution state: Error: User not authenticated
    at WorkflowPersistence.saveExecution (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:17:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.execute (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:77:9)
    at C:\Users\User\Documents\seo ragbot\seo-platform\tests\unit\workflow-state.test.ts:394:22
    at file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1262:5)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mEdge Cases[2m > [22m[2mshould handle circular dependencies gracefully
[22m[39m[Workflow] Starting workflow: Test Workflow
[DEBUG] Checking dependency step2 for step step1. Status: undefined
[Workflow] Skipping step step1 - dependencies not met
[DEBUG] Recorded result for step1: skipped
[DEBUG] Checking dependency step1 for step step2. Status: skipped
[Workflow] Skipping step step2 - dependencies not met
[DEBUG] Recorded result for step2: skipped
[Workflow] Completed workflow: Test Workflow in 1ms

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Edge Cases > should handle circular dependencies gracefully
[Workflow] Failed to save final execution state: Error: User not authenticated
    at WorkflowPersistence.saveExecution (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:17:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.execute (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:77:9)
    at C:\Users\User\Documents\seo ragbot\seo-platform\tests\unit\workflow-state.test.ts:437:22
    at file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1262:5)

[90mstdout[2m | tests/unit/workflow-state.test.ts[2m > [22m[2mProperty 2: Workflow State Integrity[2m > [22m[2mEdge Cases[2m > [22m[2mshould handle workflow execution timeout
[22m[39m[Workflow] Starting workflow: Test Workflow
[DEBUG] Recorded result for step1: completed
[DEBUG] Checking dependency step1 for step step2. Status: completed
[DEBUG] Recorded result for step2: completed
[DEBUG] Checking dependency step2 for step step3. Status: completed
[DEBUG] Recorded result for step3: completed
[Workflow] Completed workflow: Test Workflow in 0ms

stderr | tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Edge Cases > should handle workflow execution timeout
[Workflow] Failed to save final execution state: Error: User not authenticated
    at WorkflowPersistence.saveExecution (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\persistence.ts:17:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at WorkflowEngine.execute (C:\Users\User\Documents\seo ragbot\seo-platform\lib\workflows\engine.ts:77:9)
    at C:\Users\User\Documents\seo ragbot\seo-platform\tests\unit\workflow-state.test.ts:451:22
    at file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/User/Documents/seo%20ragbot/seo-platform/node_modules/@vitest/runner/dist/index.js:1262:5)

 [31mÎ“Â¥Â»[39m tests/unit/workflow-state.test.ts [2m([22m[2m12 tests[22m[2m | [22m[31m6 failed[39m[2m)[22m[33m 877[2mms[22m[39m
[31m   [31mâ”œÃ¹[31m Property 2: Workflow State Integrity[2m > [22mProperty: Steps Execute in Dependency Order[2m > [22mshould execute steps in correct dependency order[33m 417[2mms[22m[31m[39m
[31m     Î“Ã¥Ã† expected [ 'step1' ] to deeply equal [ 'step1', 'step2', 'step3' ][39m
[31m   [31mâ”œÃ¹[31m Property 2: Workflow State Integrity[2m > [22mProperty: Steps Execute in Dependency Order[2m > [22mshould execute parallel steps concurrently[90m 108[2mms[22m[31m[39m
[31m     Î“Ã¥Ã† expected false to be true // Object.is equality[39m
[31m   [31mâ”œÃ¹[31m Property 2: Workflow State Integrity[2m > [22mProperty: Failed Steps Prevent Dependent Steps[2m > [22mshould stop workflow when a step fails[90m 103[2mms[22m[31m[39m
[31m     Î“Ã¥Ã† expected 'completed' to be 'failed' // Object.is equality[39m
[31m   [31mâ”œÃ¹[31m Property 2: Workflow State Integrity[2m > [22mProperty: Failed Steps Prevent Dependent Steps[2m > [22mshould mark workflow as failed when critical step fails[90m 24[2mms[22m[31m[39m
[31m     Î“Ã¥Ã† expected 'running' to be 'failed' // Object.is equality[39m
[31m   [31mâ”œÃ¹[31m Property 2: Workflow State Integrity[2m > [22mProperty: Step Results Persist Correctly[2m > [22mshould persist step results in execution object[90m 35[2mms[22m[31m[39m
[31m     Î“Ã¥Ã† expected [ 'completed', 'failed', 'skipped' ] to include 'running'[39m
[31m   [31mâ”œÃ¹[31m Property 2: Workflow State Integrity[2m > [22mProperty: Step Results Persist Correctly[2m > [22mshould preserve step data across workflow execution[90m 26[2mms[22m[31m[39m
[31m     Î“Ã¥Ã† expected undefined to deeply equal { stepData: 'data-from-step1' }[39m

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 6 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Steps Execute in Dependency Order > should execute steps in correct dependency order
AssertionError: expected [ 'step1' ] to deeply equal [ 'step1', 'step2', 'step3' ]

- Expected
+ Received

  Array [
    "step1",
-   "step2",
-   "step3",
  ]

 Î“Â¥Â» tests/unit/workflow-state.test.ts:111:30
    109| 
    110|       // Property: Steps must execute in dependency order
    111|       expect(executionOrder).toEqual(['step1', 'step2', 'step3'])
       |                              ^
    112| 
    113|       // Restore original

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/6]Î“Ã„Â»

 FAIL  tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Steps Execute in Dependency Order > should execute parallel steps concurrently
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 Î“Â¥Â» tests/unit/workflow-state.test.ts:185:71
    183|       const result = await engine.execute()
    184|       expect(result.stepResults.length).toBe(2)
    185|       expect(result.stepResults.every(r => r.status === 'completed')).Î“Ã‡Âª
       |                                                                       ^
    186|     })
    187|   })

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[2/6]Î“Ã„Â»

 FAIL  tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Failed Steps Prevent Dependent Steps > should stop workflow when a step fails
AssertionError: expected 'completed' to be 'failed' // Object.is equality

Expected: "failed"
Received: "completed"

 Î“Â¥Â» tests/unit/workflow-state.test.ts:211:29
    209| 
    210|       // Property: Workflow should fail when step fails
    211|       expect(result.status).toBe('failed')
       |                             ^
    212| 
    213|       // Property: Dependent steps should not execute

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[3/6]Î“Ã„Â»

 FAIL  tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Failed Steps Prevent Dependent Steps > should mark workflow as failed when critical step fails
AssertionError: expected 'running' to be 'failed' // Object.is equality

Expected: "failed"
Received: "running"

 Î“Â¥Â» tests/unit/workflow-state.test.ts:255:35
    253|       // Property: Required tool failure should fail the step
    254|       const step1Result = result.stepResults.find(r => r.stepId === 'sÎ“Ã‡Âª
    255|       expect(step1Result?.status).toBe('failed')
       |                                   ^
    256| 
    257|       // Restore original

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[4/6]Î“Ã„Â»

 FAIL  tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Step Results Persist Correctly > should persist step results in execution object
AssertionError: expected [ 'completed', 'failed', 'skipped' ] to include 'running'
 Î“Â¥Â» tests/unit/workflow-state.test.ts:292:52
    290|         expect(stepResult).toHaveProperty('stepId')
    291|         expect(stepResult).toHaveProperty('status')
    292|         expect(['completed', 'failed', 'skipped']).toContain(stepResulÎ“Ã‡Âª
       |                                                    ^
    293| 
    294|         if (stepResult.status === 'completed') {
 Î“Â¥Â» tests/unit/workflow-state.test.ts:289:26

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[5/6]Î“Ã„Â»

 FAIL  tests/unit/workflow-state.test.ts > Property 2: Workflow State Integrity > Property: Step Results Persist Correctly > should preserve step data across workflow execution
AssertionError: expected undefined to deeply equal { stepData: 'data-from-step1' }

- Expected: 
Object {
  "stepData": "data-from-step1",
}

+ Received: 
undefined

 Î“Â¥Â» tests/unit/workflow-state.test.ts:343:33
    341|       // Property: Step data should be preserved
    342|       const step1Result = result.stepResults.find(r => r.stepId === 'sÎ“Ã‡Âª
    343|       expect(step1Result?.data).toEqual({ stepData: 'data-from-step1' Î“Ã‡Âª
       |                                 ^
    344| 
    345|       // Restore original

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[6/6]Î“Ã„Â»

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m6 failed[39m[22m[2m | [22m[1m[32m6 passed[39m[22m[90m (12)[39m
[2m   Start at [22m 05:36:54
[2m   Duration [22m 10.21s[2m (transform 1.07s, setup 325ms, collect 3.27s, tests 877ms, environment 0ms, prepare 1.31s)[22m

